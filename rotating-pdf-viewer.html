<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Plany zajęć</title>
<style>
  body {
    margin: 0;
    background-color: #111;
    color: white;
    overflow: hidden;
    font-family: Arial, sans-serif;
  }

  iframe {
    width: 100vw;
    height: 100vh;
    border: none;
  }

  .year-buttons {
    position: fixed;
    top: 50%;
    right: 10px;
    transform: translateY(-50%);
    display: flex;
    flex-direction: column;
    gap: 6px;
    z-index: 20;
  }

  .year-buttons button {
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.3);
    color: white;
    font-size: 12px;
    padding: 4px 6px;
    border-radius: 6px;
    cursor: pointer;
    transition: background 0.2s;
  }

  .year-buttons button:hover {
    background: rgba(255, 255, 255, 0.3);
  }

  .controls {
    position: fixed;
    bottom: 10px;
    right: 10px;
    display: flex;
    gap: 6px;
    z-index: 30;
  }

  .controls button {
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.3);
    color: white;
    font-size: 12px;
    padding: 6px 8px;
    border-radius: 6px;
    cursor: pointer;
    transition: background 0.2s;
  }

  .controls button:hover {
    background: rgba(255, 255, 255, 0.3);
  }

  .label {
    position: fixed;
    top: 10px;
    right: 10px;
    background: rgba(255,255,255,0.1);
    padding: 6px 10px;
    border-radius: 6px;
    font-weight: bold;
    z-index: 15;
  }
</style>
</head>
<body>

<div class="label" id="yearLabel">Rok I</div>
<iframe id="pdfFrame" src="pdf/1.pdf"></iframe>

<div class="year-buttons">
  <button onclick="jumpTo(0)">Rok I</button>
  <button onclick="jumpTo(1)">Rok II</button>
  <button onclick="jumpTo(2)">Rok III</button>
  <button onclick="jumpTo(3)">Rok IV</button>
  <button onclick="jumpTo(4)">Rok V</button>
  <button onclick="jumpTo(5)">Rok VI</button>
  <button onclick="jumpTo(6)">WCSM</button>
</div>

<div class="controls">
  <button id="pauseBtn" onclick="togglePause()">⏸</button>
  <button onclick="toggleFullScreen()">⛶</button>
  <button onclick="changeInterval()">int.</button>
</div>

<script>
  const pdfs = [
    { url: "pdf/1.pdf", label: "Rok I" },
    { url: "pdf/2.pdf", label: "Rok II" },
    { url: "pdf/3.pdf", label: "Rok III" },
    { url: "pdf/4.pdf", label: "Rok IV" },
    { url: "pdf/5.pdf", label: "Rok V" },
    { url: "pdf/6.pdf", label: "Rok VI" },
    { url: "pdf/wcsm.pdf", label: "WCSM 1–6" }
  ];

  let index = 0;
  let intervalTime = 20000;
  let paused = false;
  let timer;

  const frame = document.getElementById("pdfFrame");
  const label = document.getElementById("yearLabel");
  const pauseBtn = document.getElementById("pauseBtn");

  function showPDF(i) {
    index = i;
    frame.src = pdfs[index].url;
    label.textContent = pdfs[index].label;
  }

  function nextPDF() {
    if (!paused) {
      index = (index + 1) % pdfs.length;
      showPDF(index);
    }
  }

  function startCycle() {
    clearInterval(timer);
    timer = setInterval(nextPDF, intervalTime);
  }

  function togglePause() {
    paused = !paused;
    pauseBtn.textContent = paused ? "▶️" : "⏸";
  }

  function changeInterval() {
    const newInt = prompt("Podaj nowy interwał (sekundy):", intervalTime / 1000);
    if (newInt && !isNaN(newInt)) {
      intervalTime = parseInt(newInt) * 1000;
      startCycle();
    }
  }

  function toggleFullScreen() {
    if (!document.fullscreenElement) {
      document.documentElement.requestFullscreen().catch(console.error);
    } else {
      document.exitFullscreen();
    }
  }

  function jumpTo(i) {
    showPDF(i);
    clearInterval(timer);
    startCycle();
  }

  // Po pełnym cyklu restart bez reloadu:
  startCycle();
</script>

</body>
</html>
